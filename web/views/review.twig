{% extends "layout.html" %}

{% block content %}

<div class="container">
  <h1>We'd like to hear back from you!</h1>
  <form id="review_form" action="/review" method="post" target="_self">
    <div class="form-group">
      <label>Full Name</label>
      <input type="name" class="form-control">
    </div>
    <div class="form-group">
      <label>Email address</label>
      <input type="email" class="form-control">
    </div>
    <div class="form-group">
      <div class="dropdown">
        <button class="btn btn-primary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown">
          Product
        </button>
        <div class="dropdown-menu">
          <a class="dropdown-item" href="#">Pull product data here</a>
        </div>
      </div>
    </div>
    <div class="form-group">
      <label>Rating</label>
      <ul class="rating" id="review_rating">
        <span id="star_0" class="glyphicon glyphicon-star"></span>
        <span id="star_1" class="glyphicon glyphicon-star-empty"></span>
        <span id="star_2" class="glyphicon glyphicon-star-empty"></span>
        <span id="star_3" class="glyphicon glyphicon-star-empty"></span>
        <span id="star_4" class="glyphicon glyphicon-star-empty"></span>
      </ul>
    </div>
    <div class="form-group">
      <label>Description</label>
      <textarea class="form-control" id="review_textarea" rows="4"></textarea>
    </div>
    <button type="submit" class="btn btn-primary">Submit</button>
  </form>
</div>

<script>
  for (let i=0; i<5; i++) {
    let star = document.getElementById(`star_${i}`);
    star.addEventListener("click", () => {
      if (star.className.charAt(star.className.length-1)=='y') {
        for (let j=0; j<=i; j++) {
          document.getElementById(`star_${j}`).className = "glyphicon glyphicon-star";
        }
      }
      else {
        for (let j=0; j<=i; j++) {
          document.getElementById(`star_${j}`).className = "glyphicon glyphicon-star-empty";
        }
      }
    });
  }
</script>

{% endblock %}
